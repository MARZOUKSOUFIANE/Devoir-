<div class="alert {{style}}" *ngIf="style && message">
  {{message}}
</div>

<div class="panel panel-default">
  <div class="panel-heading"><h3>Gestion des Analyses</h3></div>
  <div class="panel-body">
    <div>
      <button class="btn btn-success" (click)="onNewProduct()">
        <span class="glyphicon glyphicon-plus"></span>
      </button>
    </div>
    <p></p>

    <div *ngIf="mode=='new-product'" class="col-md-6">
      <form #f="ngForm" (ngSubmit)="onSaveProduct(f.value)">
        <div class="form-group">
          <label for="name" class="control-label">Name</label>
          <input type="text" id="name" name="name" class="form-control" ngModel>
        </div>
        <div class="form-group">
          <label for="datee" class="control-label">Date</label>
          <input type="date" id="datee" name="date" class="form-control" ngModel>
        </div>
        <div class="form-group">
          <label for="prix" class="control-label">Prix</label>
          <input type="number" id="prix" name="prix" class="form-control" ngModel>
        </div>
        <div class="form-group">
          <label for="resultConnuu" class="control-label">Resultat Connu</label>
          <input type="text" id="resultConnuu" name="resultConnu" class="form-control" ngModel>
        </div>
        <div class="form-group">
          <label for="resultatt" class="control-label">Resultat</label>
          <input type="text" id="resultatt" name="resultat" class="form-control" ngModel>
        </div>
        <button class="btn btn-success">Save</button>
      </form>
    </div>

    <div *ngIf="mode=='edit-product' && currentAnalyse" class="col-md-6">
      <form #f="ngForm" (ngSubmit)="onSaveProductEdit(f.value)">
        <div class="form-group">
          <label for="namePro" class="control-label">Name</label>
          <input type="text" id="namePro" [(ngModel)]="currentAnalyse.name"  name="name" class="form-control" >
        </div>
        <div class="form-group">
          <label for="prixPro" class="control-label">Prix</label>
          <input type="number" id="prixPro" [(ngModel)]="currentAnalyse.prix"  name="prix" class="form-control" >
        </div>
        <div class="form-group">
          <label for="date" class="control-label">Date</label>
          <input type="date" id="date" [(ngModel)]="currentAnalyse.date"  name="date" class="form-control" >
        </div>
        <div class="form-group">
          <label for="resultat" class="control-label">Resultat</label>
          <input type="text" id="resultat" [(ngModel)]="currentAnalyse.resultat"  name="resultat" class="form-control" >
        </div>
        <div class="form-group">
          <label for="resultConnu" class="control-label">Resultat Connu</label>
          <input type="text" id="resultConnu" [(ngModel)]="currentAnalyse.resultConnu"  name="resultConnu" class="form-control" >
        </div>
        <button class="btn btn-success">Save</button>
      </form>
    </div>


    <table class="table table-striped " *ngIf="analyses._embedded && mode=='list-products'">
      <thead>
      <tr><th>Name</th><th>Prix</th><th>Resultat</th><th>Resultat</th><th>Resultat Connu</th><th>Date</th></tr>
      </thead>
      <tbody >
      <tr *ngFor="let analyse of analyses._embedded.analyses">
        <td>{{analyse.name}}</td>
        <td>
          {{analyse.prix | number:"0.4"}}
        </td>
        <td>{{analyse.resultat}}</td>
        <td>{{analyse.resultConnu}}</td>
        <td>{{analyse.date | date:"dd-MM-yyyy"}}</td>

        <td>
          <button class="btn btn-danger" (click)="onDeleteProduct(analyse)">
            <span class="glyphicon glyphicon-remove"></span>
          </button>
          <button class="btn btn-primary" (click)="onEditProduct(analyse)">
            <span class="glyphicon glyphicon-edit"></span>
          </button>
        </td>
      </tr>
      </tbody>
    </table>
  </div>
</div>
